{"ast":null,"code":"import React,{Component}from'react';import'./App.css';import TablaComponent from'./components/TablaComponent';import FormularioComponent from'./components/FormularioComponent';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";class App extends Component{constructor(){super();// Actualiza el estado según el input\nthis.handleChange=(input,value)=>{this.setState({[input]:value,letra:[]});};// Busca la letra de la canción\nthis.buscar=()=>{fetch(\"https://api.lyrics.ovh/v1/\".concat(encodeURIComponent(this.state.artista),\"/\").concat(encodeURIComponent(this.state.cancion))).then(response=>{if(response.ok){return response.json();}else{throw new Error(response.statusText);}}).then(data=>{// Añade la letra como una nueva fila\nthis.setState(prevState=>({letra:[...prevState.letra,{texto:data.lyrics||\"Letra no encontrada\"}]}));}).catch(error=>{this.setState(prevState=>({letra:[...prevState.letra,{texto:\"Letra no encontrada\"}]}));console.error(\"Error al buscar la canción:\",error);});};this.state={artista:\"\",cancion:\"\",letra:[]};}render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Buscador de canciones\"}),/*#__PURE__*/_jsx(FormularioComponent,{artista:this.state.artista,cancion:this.state.cancion,inputChange:this.handleChange,buscar:this.buscar,actualizarLetra:this.actualizarLetra}),/*#__PURE__*/_jsx(TablaComponent,{letra:this.state.letra})]});}}export default App;","map":{"version":3,"names":["React","Component","TablaComponent","FormularioComponent","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","constructor","handleChange","input","value","setState","letra","buscar","fetch","concat","encodeURIComponent","state","artista","cancion","then","response","ok","json","Error","statusText","data","prevState","texto","lyrics","catch","error","console","render","children","inputChange","actualizarLetra"],"sources":["/home/usuario/Escritorio/DIU2DAM/React/applyricsPabloRodriguezPeña/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport TablaComponent from './components/TablaComponent';\nimport FormularioComponent from './components/FormularioComponent';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      artista: \"\", \n      cancion:\"\",\n      letra: []\n    };\n  }\n\n  // Actualiza el estado según el input\n  handleChange = (input, value) => {\n    this.setState({ [input]: value,\n      letra:[]\n     });\n  };\n\n\n\n  // Busca la letra de la canción\n  buscar = () => {\n    fetch(`https://api.lyrics.ovh/v1/${encodeURIComponent(this.state.artista)}/${encodeURIComponent(this.state.cancion)}`)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error(response.statusText);\n        }\n      })\n      .then((data) => {\n        // Añade la letra como una nueva fila\n        this.setState((prevState) => ({\n          letra: [...prevState.letra, { texto: data.lyrics || \"Letra no encontrada\" }]\n        }));\n      })\n      .catch((error) => {\n        this.setState((prevState) => ({\n          letra: [...prevState.letra, { texto: \"Letra no encontrada\" }]\n        }));\n        console.error(\"Error al buscar la canción:\", error);\n      });\n  };\n\n   \n\n  render() {\n    return (\n      <>\n        <h1>Buscador de canciones</h1>\n        <FormularioComponent\n          artista={this.state.artista}\n          cancion={this.state.cancion}\n          inputChange={this.handleChange}\n          buscar={this.buscar}\n          actualizarLetra={this.actualizarLetra}\n        />\n        <TablaComponent\n          letra={this.state.letra}\n        />\n      </>\n    );\n  }\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,WAAW,CAClB,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,mBAAmB,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnE,KAAM,CAAAC,GAAG,QAAS,CAAAT,SAAU,CAC1BU,WAAWA,CAAA,CAAG,CACZ,KAAK,CAAC,CAAC,CAQT;AAAA,KACAC,YAAY,CAAG,CAACC,KAAK,CAAEC,KAAK,GAAK,CAC/B,IAAI,CAACC,QAAQ,CAAC,CAAE,CAACF,KAAK,EAAGC,KAAK,CAC5BE,KAAK,CAAC,EACP,CAAC,CAAC,CACL,CAAC,CAID;AAAA,KACAC,MAAM,CAAG,IAAM,CACbC,KAAK,8BAAAC,MAAA,CAA8BC,kBAAkB,CAAC,IAAI,CAACC,KAAK,CAACC,OAAO,CAAC,MAAAH,MAAA,CAAIC,kBAAkB,CAAC,IAAI,CAACC,KAAK,CAACE,OAAO,CAAC,CAAE,CAAC,CACnHC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACf,MAAO,CAAAD,QAAQ,CAACE,IAAI,CAAC,CAAC,CACxB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAC,KAAK,CAACH,QAAQ,CAACI,UAAU,CAAC,CACtC,CACF,CAAC,CAAC,CACDL,IAAI,CAAEM,IAAI,EAAK,CACd;AACA,IAAI,CAACf,QAAQ,CAAEgB,SAAS,GAAM,CAC5Bf,KAAK,CAAE,CAAC,GAAGe,SAAS,CAACf,KAAK,CAAE,CAAEgB,KAAK,CAAEF,IAAI,CAACG,MAAM,EAAI,qBAAsB,CAAC,CAC7E,CAAC,CAAC,CAAC,CACL,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChB,IAAI,CAACpB,QAAQ,CAAEgB,SAAS,GAAM,CAC5Bf,KAAK,CAAE,CAAC,GAAGe,SAAS,CAACf,KAAK,CAAE,CAAEgB,KAAK,CAAE,qBAAsB,CAAC,CAC9D,CAAC,CAAC,CAAC,CACHI,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,CAAC,CACN,CAAC,CAtCC,IAAI,CAACd,KAAK,CAAG,CACXC,OAAO,CAAE,EAAE,CACXC,OAAO,CAAC,EAAE,CACVP,KAAK,CAAE,EACT,CAAC,CACH,CAqCAqB,MAAMA,CAAA,CAAG,CACP,mBACE5B,KAAA,CAAAF,SAAA,EAAA+B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BjC,IAAA,CAACF,mBAAmB,EAClBmB,OAAO,CAAE,IAAI,CAACD,KAAK,CAACC,OAAQ,CAC5BC,OAAO,CAAE,IAAI,CAACF,KAAK,CAACE,OAAQ,CAC5BgB,WAAW,CAAE,IAAI,CAAC3B,YAAa,CAC/BK,MAAM,CAAE,IAAI,CAACA,MAAO,CACpBuB,eAAe,CAAE,IAAI,CAACA,eAAgB,CACvC,CAAC,cACFnC,IAAA,CAACH,cAAc,EACbc,KAAK,CAAE,IAAI,CAACK,KAAK,CAACL,KAAM,CACzB,CAAC,EACF,CAAC,CAEP,CACF,CAEA,cAAe,CAAAN,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}